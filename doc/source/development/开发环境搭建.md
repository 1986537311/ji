# 开发环境搭建



目录:

- [Git的准备](#Git的准备)
- [conda环境搭建](#conda环境搭建)
- [Xinference安装](#Xinference安装)
- [前端编译](#前端编译)



## [Git的准备](#开发环境搭建)



详情见[Working with the code](https://github.com/xorbitsai/xorbits/blob/main/doc/source/development/contributing.rst#working-with-the-code)。

如果在`git clone`代码的时候速度较慢，可以通过如下命令添加代理：

```
export https_proxy=代理地址
```



## [conda环境搭建](#开发环境搭建)



在正式安装Xinference之前，最好新建一个conda环境方便后续操作。

如果是在校级公共计算云平台，搭建命令如下：

```
mkdir /fs/fast/u学号/envs
conda create --prefix=/fs/fast/u学号/envs/xinf
conda activate /fs/fast/u学号/envs/xinf
```

其中`学号`需要替换成对应服务器账号的学号，`xinf`可替换为自定义的conda环境名。

随后需要在新建的conda环境中安装python以及npm。命令如下：

```
conda install python=3.10
conda install nodejs
```



## [Xinference安装](#开发环境搭建)



详情见[入门教程](https://inference.readthedocs.io/zh-cn/latest/getting_started/installation.html)。

Xinference初步安装完成后需要在`/inference/`目录下运行以下命令检查是否能正常运行。

```
pip install -e .
xinference-local
```

如果出现报错或者在运行过程中卡死，那就需要进行下一步[前端编译](#前端编译)。

如果能够成功运行命令就能正常使用Xinference了，使用教程详情见[入门教程](https://inference.readthedocs.io/zh-cn/latest/getting_started/using_xinference.html)。



## [前端编译](#开发环境搭建)



首先需要进入`/inference/xinference/web/ui`目录下，如果该目录下已经存在`/node_modules/`文件夹的话建议先手动删除该文件夹，随后执行如下命令清除缓存：

```
npm cache clean
```

接着在该目录下执行以下命令进行前端编译：

```
npm install
npm run build
```

前端编译完以后就可以重新尝试运行Xinference。

至此，开发的环境准备工作已经全部完成。
